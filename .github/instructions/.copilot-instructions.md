# Frontend Development Instructions - Revise Flow Client

## Project Context
You are working on the **client** (frontend) portion of Revise Flow - a modern React-based task management application with spaced revision reminders. This is a production-ready MERN stack application with beautiful, professional UI/UX design.

## Technology Stack
- **Framework**: React 18 + TypeScript
- **Build Tool**: Vite
- **Styling**: Tailwind CSS with custom design system
- **State Management**: React Context (AuthContext)
- **Routing**: React Router DOM
- **HTTP Client**: Axios with interceptors
- **Notifications**: React Toastify
- **Package Manager**: npm

## Design System
### Color Palette
- **Primary**: Purple (#8B5CF6 - Violet 500) for main actions and branding
- **Secondary**: Emerald (#10B981 - Emerald 500) for success states
- **Background**: White to Dark Slate gradient system
- **Text**: Hierarchical contrast system for accessibility

### UI Patterns
- **Glass Morphism**: Backdrop blur effects with translucent surfaces
- **Gradient Buttons**: Primary actions use gradient backgrounds
- **Rounded Corners**: 12px-24px border radius for modern appearance
- **Smooth Animations**: 200ms transitions with hover scaling effects
- **Card Layouts**: Consistent spacing with shadow systems

## Architecture Guidelines

### Component Organization
```
src/
├── components/          # Reusable UI components
│   ├── CalendarStrip.tsx    # Date navigation component
│   ├── TaskCard.tsx         # Individual task display
│   ├── TaskModal.tsx        # Task creation/editing modal
│   └── ...
├── pages/              # Route-level components
├── contexts/           # React context providers
├── services/          # API layer and external services
├── hooks/             # Custom React hooks
└── styles/           # Global styles and Tailwind config
```

### Code Style Guidelines
1. **TypeScript**: Use strict typing, define interfaces for all props and state
2. **Component Structure**: Functional components with hooks, avoid class components
3. **Naming**: Use PascalCase for components, camelCase for functions/variables
4. **Export**: Prefer default exports for components, named exports for utilities
5. **Props**: Define interfaces for all component props with JSDoc comments

### State Management
- Use React Context for global state (authentication, user preferences)
- Component state for local UI state
- Custom hooks for complex state logic
- Event-driven patterns for cross-component communication

### API Integration
- All API calls go through `services/api.ts`
- Implement proper error handling with toast notifications
- Use interceptors for authentication token management
- Handle loading states consistently across components

## Authentication Flow
- JWT access tokens stored in memory (not localStorage)
- Refresh tokens handled via HTTP-only cookies
- Automatic token refresh on 401 responses
- Complete password reset flow with email verification
- Two-factor authentication support

## Development Practices

### Component Development
```tsx
// Example component structure
interface TaskCardProps {
  task: Task;
  onEdit: (taskId: string) => void;
  onComplete: (revisionId: string) => void;
}

const TaskCard: React.FC<TaskCardProps> = ({ task, onEdit, onComplete }) => {
  // Component implementation with proper TypeScript typing
  // Use Tailwind classes following design system
  // Implement smooth animations and hover effects
};

export default TaskCard;
```

### Styling Guidelines
- Use Tailwind utility classes following the design system
- Implement responsive design (mobile-first approach)
- Ensure accessibility with proper focus states and ARIA labels
- Use consistent spacing (8px grid system)
- Apply smooth transitions and hover effects

### Error Handling
- Use react-toastify for user notifications
- Implement proper loading states
- Handle API errors gracefully
- Provide meaningful error messages to users
- Log errors for debugging

### Performance Considerations
- Lazy load route components
- Optimize re-renders with React.memo where appropriate
- Use proper dependency arrays in useEffect
- Implement proper cleanup in useEffect

## Integration Points

### Backend API
- Base URL: `http://localhost:5000/api` (development)
- Production URL: Set via `VITE_API_URL` environment variable
- Authentication endpoints for login, signup, password reset
- Task CRUD operations
- Calendar and revision management
- Google Calendar integration

### Environment Configuration
```env
# Development
VITE_API_URL=http://localhost:5000/api

# Production
VITE_API_URL=https://your-api-domain.com/api
```

## Common Tasks

### Adding New Components
1. Create component file in appropriate directory
2. Define TypeScript interface for props
3. Implement component following design system
4. Add proper error handling and loading states
5. Export component and update index files

### API Integration
1. Add endpoint to `services/api.ts`
2. Create proper TypeScript interfaces for request/response
3. Implement error handling
4. Update components to use new API calls
5. Add loading and error states

### Styling Updates
1. Follow existing design patterns
2. Use Tailwind utility classes
3. Ensure mobile responsiveness
4. Test accessibility features
5. Maintain consistent spacing and typography

## Testing Guidelines
- Write unit tests for utility functions
- Test component rendering and user interactions
- Mock API calls in component tests
- Test error scenarios and edge cases
- Ensure accessibility compliance

## Deployment
- Build for production: `npm run build`
- Optimized for AWS S3 + CloudFront deployment
- Environment variables configured for production API
- CORS properly configured for production domains

## Best Practices
1. **Performance**: Optimize bundle size, lazy load components
2. **Accessibility**: WCAG AA compliance, proper ARIA labels
3. **SEO**: Meta tags, proper HTML semantics
4. **Security**: Secure token handling, input validation
5. **UX**: Smooth animations, proper loading states, meaningful error messages
6. **Code Quality**: TypeScript strict mode, ESLint rules, consistent formatting

## Common Pitfalls to Avoid
- Don't store sensitive tokens in localStorage
- Don't skip error handling in API calls
- Don't ignore TypeScript warnings
- Don't hardcode API URLs (use environment variables)
- Don't skip mobile responsive testing
- Don't implement infinite loops in useEffect
- Don't ignore accessibility requirements

## File Specific Notes
- `App.tsx`: Main app component with routing configuration
- `main.tsx`: Entry point with context providers
- `AuthContext.tsx`: Global authentication state management
- `api.ts`: Centralized API service layer with interceptors
- `index.css`: Global styles and Tailwind customizations